
<mat-accordion class="row example-headers-align">
  <mat-expansion-panel class="col-11" [expanded]="step === 0" (opened)="setStep(0)" hideToggle (closed)="setStep(-1)">
    <mat-expansion-panel-header>
      <mat-panel-title>
        <mat-icon aria-hidden="false" aria-label="link icon">link</mat-icon>
      </mat-panel-title>
      <mat-panel-description>
        Related Pieces
      </mat-panel-description>
    </mat-expansion-panel-header>
    <!--  take contentTags  -->

    <div *ngFor="let contentTag of contentTags">

      <div (click)="onClickContentTagToggleEdit($event)" [attr.data-tag-id]="contentTag.id">
        <div *ngIf="!edit">
          {{contentTag.pieceId}} - {{contentTag.id}} - {{contentTag.name}}

        </div>
        <div *ngIf="edit">

          <div class="form-group">
            <label for="name"></label>
            <input type="text" class="form-control" id="name"
                   [(ngModel)]="contentTag.name" name="name"
                   (keyup.enter)="save()"
                   (click)="onClickName($event)" />
          </div>
        </div>
      </div>

    </div>

    <button mat-raised-button (click)="AddContentTag($event)">
      <div>
        <div>{{ icons.length }} Icons</div>
        <input type="text" [(ngModel)]="searchText" class="form-control">
      </div>
      <hr>
      <div [formGroup]="myFormGroup">
        <label>Icon</label>
        <div class="input-group">
          <span class="input-group-addon"><i [ngClass]="iconCss.value"></i></span>
          <input type="text" name="iconCss" class="form-control"
                 formControlName="iconCss"
                 [iconPicker]="iconCss.value"
                 [ipPosition]="'bottom'"
                 [ipWidth]="'250px'"
                 [ipIconSize]="'16px'"
                 [ipIconVerticalPadding]="'6px'"
                 [ipIconHorizontalPadding]="'10px'"
                 [ipKeepSearchFilter]="'false'"
                 [ipPlaceHolder]="'Choose an icon'"
                 [ipFallbackIcon]="fallbackIcon"
                 (iconPickerSelect)="onIconPickerSelect($event)" />
        </div>
      </div>

        <!--<ng-container *ngFor="let icon of filter(searchText)">-->
        <!-- {{ getIconObject(icon) }} -->
        <!--<button type="button" class="btn btn-outline-dark mr-2 mb-2">
        <fa-icon [icon]="getIconObject(icon)" [fixedWidth]="true" size="2x"></fa-icon>
        <div>{{ getIconName(icon)}}</div>
      </button>
    </ng-container>-->

        <mat-icon aria-hidden="false" aria-label="add button" class="add-box-icon">add_box</mat-icon>
    </button>

  </mat-expansion-panel>
</mat-accordion>
